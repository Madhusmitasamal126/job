{% extends "base.html" %}
{% block title %}Browse Jobs | Job Portal{% endblock %}
{% block content %}

<div class="container py-5">
  <div class="row mb-4 align-items-center">
    <div class="col-md-6">
      <h2 class="fw-bold">Browse Jobs</h2>
      <p class="text-muted">Find the perfect job for your career.</p>
    </div>
    <div class="col-md-6">
      <form method="GET" class="d-flex">
        <input type="text" name="q" class="form-control me-2" placeholder="Search jobs..." value="{{ request.GET.q }}">
        <button class="btn btn-primary"><i class="bi bi-search"></i> Search</button>
      </form>
    </div>
  </div>

  <div class="row g-4">
    {% for job in jobs %}
    <div class="col-md-6 col-lg-4">
      <div class="card shadow-sm border-0 rounded-4 h-100 job-card">
        <div class="card-body d-flex flex-column">
          <h5 class="card-title fw-bold">{{ job.title }}</h5>
          <p class="card-subtitle mb-2 text-muted"><i class="bi bi-building"></i> {{ job.company }}</p>
          <p class="text-muted mb-2"><i class="bi bi-geo-alt"></i> {{ job.location }}</p>
          {% if job.salary %}
          <span class="badge bg-success mb-2">Salary: {{ job.salary }}</span>
          {% endif %}
          <p class="card-text text-truncate" style="max-height: 60px;">{{ job.description }}</p>

          <div class="mt-auto d-flex justify-content-between align-items-center">
            <small class="text-muted">{{ job.posted_on|date:"M d, Y" }}</small>
            <a href="{% url 'job_detail' job.id %}" class="btn btn-outline-primary btn-sm">View Details</a>
          </div>
        </div>
      </div>
    </div>
    {% empty %}
    <div class="col-12 text-center py-5">
      <i class="bi bi-briefcase fs-1 text-muted"></i>
      <h5 class="mt-3 text-muted">No jobs available right now.</h5>
    </div>
    {% endfor %}
  </div>
</div>

<style>
  .job-card:hover {
    transform: translateY(-5px);
    transition: all 0.3s ease;
    box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.15);
  }
</style>

{% endblock %}
