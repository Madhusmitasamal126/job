{% extends "base.html" %}
{% block title %}Apply for {{ job.title }} | Job Portal{% endblock %}
{% block content %}

<div class="container py-5">
  <div class="row justify-content-center g-4">

    <!-- Job Details Panel -->
    <div class="col-md-8">
      <div class="card shadow-sm border-0 rounded-3 mb-4">
        <div class="card-body">
          <h3 class="fw-bold mb-2">{{ job.title }}</h3>
          <p class="text-muted mb-1"><i class="bi bi-building"></i> {{ job.company }}</p>
          <p class="text-muted mb-1"><i class="bi bi-geo-alt"></i> {{ job.location }}</p>
          {% if job.salary %}
          <p class="text-muted mb-1"><i class="bi bi-cash-stack"></i> {{ job.salary }}</p>
          {% endif %}
          <hr>
          <h6 class="fw-bold">Job Description:</h6>
          <p class="text-secondary">{{ job.description|linebreaks }}</p>
        </div>
      </div>
    </div>

    <!-- Application Form -->
    <div class="col-md-8">
      <div class="card shadow-sm border-0 rounded-3 p-4 application-card">
        <h4 class="mb-4 text-center text-primary">
          <i class="bi bi-pencil-square me-1"></i> Apply Now
        </h4>
        <form method="POST" enctype="multipart/form-data">
          {% csrf_token %}
          <div class="mb-3">
            <label class="form-label fw-bold">Upload Resume</label>
            <input type="file" name="resume" class="form-control" required>
          </div>
          <div class="mb-3">
            <label class="form-label fw-bold">Cover Letter (optional)</label>
            <textarea name="cover_letter" rows="5" class="form-control" placeholder="Write a short cover letter..."></textarea>
          </div>
          <button type="submit" class="btn btn-success w-100 fw-bold">
            <i class="bi bi-send-fill me-2"></i> Submit Application
          </button>
        </form>
      </div>
    </div>

  </div>
</div>

<style>
  .application-card {
    transition: all 0.3s ease;
  }

  .application-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 0.75rem 1.5rem rgba(0,0,0,0.15);
  }

  .application-card h4 {
    font-weight: 600;
  }

  .card-body p {
    font-size: 0.95rem;
  }
</style>

{% endblock %}
